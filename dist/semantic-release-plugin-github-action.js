"use strict";var e=require("execa");const x=({branch:t,nextRelease:s})=>({branch:t.name,version:s.version,tag:s.gitTag,notes:s.notes??""}),m=async(t={},s)=>{const{branch:n,version:p,tag:o,notes:l}=x(s);console.log("options:",t),console.log("branch:",n),console.log("version:",p),console.log("tag:",o),console.log("notes:",l),console.log("-------------- dari plugin using exaca: delete local tag ----------");const a=await e.execa("git",["tag","-d",o]);console.log("stderr:",a.stderr),console.log("stdout:",a.stdout),console.log("-------------- dari plugin using exaca: delete remote tag ---------");const c=await e.execa("git",["push","origin","-d","tag",o]);console.log("stderr:",c.stderr),console.log("stdout:",c.stdout);const g=`release: ${o}`;console.log("-------------- dari plugin using exaca: commit release ------------");const r=await e.execa("git",["commit","-S","--allow-empty","-m",`"${g}

${l}"`]);console.log("stderr:",r.stderr),console.log("stdout:",r.stdout),console.log("-------------- dari plugin using exaca: tag release ---------------");const i=await e.execa("git",["tag","-s",o,"-m",`"${g}

${l}"`]);console.log("stderr:",i.stderr),console.log("stdout:",i.stdout),console.log("-------------- dari plugin using exaca: push commit release --------------");const d=await e.execa("git",["push","origin",n]);console.log("stderr:",d.stderr),console.log("stdout:",d.stdout),console.log("-------------- dari plugin using exaca: push tag release --------------");const u=await e.execa("git",["push","origin",o]);console.log("stderr:",u.stderr),console.log("stdout:",u.stdout)};exports.publish=m;
